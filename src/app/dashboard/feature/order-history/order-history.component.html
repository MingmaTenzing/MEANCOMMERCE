<div *ngIf="recent_orders.length > 0; else loading" class="border">
  <!-- header -->
  <div class="p-4 border-b flex justify-between">
    <h3 class="uppercase text-gray-900 font-medium">Recent Order</h3>
    <div class="text-[#FA8232] text-sm space-x-2 flex items-center">
      <span>View All</span>
      <i class="pi pi-arrow-right"></i>
    </div>
  </div>

  <!-- desktop table -->
  <div class="hidden lg:flex">
    <table class="table-auto w-full">
      <thead class="w-full bg-gray-50 text-xs uppercase text-gray-700">
        <tr class="">
          <th class="text-start p-4 font-medium">Order id</th>
          <th class="text-start p-4 font-medium">Status</th>
          <th class="text-start p-4 font-medium">Date</th>
          <th class="text-start p-4 font-medium">Total</th>
          <th class="text-start p-4 font-medium">Action</th>
        </tr>
      </thead>
      <tbody class="">
        <tr
          *ngFor="let item of recent_orders"
          class="text-sm font-medium hover:bg-gray-50 border-b"
        >
          <td class="p-4">{{ item._id }}</td>
          <td class="p-4 uppercase text-ciliconorange">{{ item.status }}</td>
          <td class="p-4">
            {{ item.created_at | date : "dd/MM/yyyy" }}
          </td>
          <td class="p-4">${{ item.total_amount / 100 }}</td>
          <td class="text-[#2DA5F3] flex items-center space-x-2 p-4">
            <a href="{{ item.receipt_url }}" target="_blank">print receipt</a
            ><i class="pi pi-arrow-right"></i>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- mobile table  -->
  <div class="lg:hidden">
    <table class="table-auto">
      <thead class="">
        <tr class="w-[320px] overflow-x-scroll flex scrollbar-hide">
          <th class="uppercase text-sm font-normal text-gray-600 p-2">
            Order Id
          </th>
          <th class="uppercase text-sm font-normal text-gray-600 p-2">
            Status
          </th>
          <th class="uppercase text-sm font-normal text-gray-600 p-2">date</th>
          <th class="uppercase text-sm font-normal text-gray-600 p-2">Total</th>
          <th class="uppercase text-sm font-normal text-gray-600 p-2">
            Action
          </th>
        </tr>
      </thead>
      <tbody *ngFor="let item of recent_orders">
        <tr class="w-[320px] overflow-x-scroll flex scrollbar-hide">
          <td class="uppercase text-sm p-2">{{ item._id }}</td>
          <td class="uppercase text-sm p-2 text-ciliconorange">
            {{ item.status }}
          </td>
          <td class="p-2 text-sm">
            {{ item.created_at | date : "dd/mm/yyyy" }}
          </td>
          <td class="p-2 text-sm">${{ item.total_amount / 100 }}</td>
          <td class="p-2 text-sm flex space-x-2">
            <a href="{{ item.receipt_url }}" target="_blank">Print Receipt</a
            ><span><i class="pi pi-arrow-right text-sm"></i></span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<ng-template #loading>
  <app-order-history-loading></app-order-history-loading>
</ng-template>
